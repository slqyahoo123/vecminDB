# è§†é¢‘ç‰¹å¾æå–å™¨æ¨¡å—æ€»ç»“

## æ¨¡å—æ¦‚è¿°

è§†é¢‘ç‰¹å¾æå–å™¨æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€å¤šåŠŸèƒ½çš„è§†é¢‘åˆ†æç»„ä»¶ï¼Œä¸“ä¸ºå¤§è§„æ¨¡è§†é¢‘å¤„ç†å’Œç‰¹å¾æå–è€Œè®¾è®¡ã€‚è¯¥æ¨¡å—æä¾›äº†ä¸€ç³»åˆ—å¼ºå¤§çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬å¤šç§ç‰¹å¾ç±»å‹æå–ã€æ‰¹é‡å¤„ç†ã€æ€§èƒ½ä¼˜åŒ–ã€é”™è¯¯å¤„ç†ä¸æ¢å¤ç­‰ï¼Œå¯ä»¥æ»¡è¶³å„ç§è§†é¢‘åˆ†æå’Œå¤„ç†éœ€æ±‚ã€‚

## å·²å®ç°åŠŸèƒ½æ¸…å•

### æ ¸å¿ƒç‰¹æ€§
- âœ… å¤šç§ç‰¹å¾ç±»å‹æå–ï¼ˆRGBã€å…‰æµã€I3Dã€SlowFastç­‰ï¼‰
- âœ… ä¼˜åŒ–çš„å¹¶è¡Œæ‰¹å¤„ç†ç³»ç»Ÿ
- âœ… è‡ªåŠ¨é€‚é…çš„é…ç½®ç³»ç»Ÿ
- âœ… ç»¼åˆæ€§é”™è¯¯å¤„ç†å’Œè¯Šæ–­
- âœ… çµæ´»çš„ç¼“å­˜ç®¡ç†
- âœ… é«˜æ•ˆçš„æ—¥å¿—ç³»ç»Ÿ
- âœ… å¤šç§è§†é¢‘å¤„ç†å·¥å…·
- âœ… å®Œå–„çš„æµ‹è¯•å’ŒåŸºå‡†æµ‹è¯•åŠŸèƒ½

### é…ç½®ç³»ç»Ÿ
- âœ… åŸºç¡€é…ç½®å®šä¹‰ä¸éªŒè¯
- âœ… é…ç½®åˆå¹¶å’Œä¼˜å…ˆçº§æœºåˆ¶
- âœ… é¢„è®¾é…ç½®ï¼ˆé«˜æ€§èƒ½/é«˜è´¨é‡/å¹³è¡¡æ¨¡å¼ï¼‰
- âœ… è‡ªåŠ¨é€‚é…é…ç½®ç”Ÿæˆ
- âœ… åŸºäºè§†é¢‘å…ƒæ•°æ®çš„ä¼˜åŒ–é…ç½®

### ç‰¹å¾æå–åŠŸèƒ½
- âœ… RGBç‰¹å¾æå–å™¨å®ç°
- âœ… å…‰æµç‰¹å¾æå–å™¨å®ç°
- âœ… æ—¶é—´å’Œç©ºé—´æ± åŒ–æ–¹æ³•
- âœ… å¸§é¢„å¤„ç†å’Œè§„èŒƒåŒ–
- âœ… åŒºé—´ç‰¹å¾æå–
- âœ… æ‰¹é‡ç‰¹å¾æå–

### æ‰¹å¤„ç†ç³»ç»Ÿ
- âœ… æ‰¹å¤„ç†è®¡åˆ’åˆ›å»ºå’Œä¼˜åŒ–
- âœ… å¹¶è¡Œå¤„ç†æ§åˆ¶
- âœ… èµ„æºä½¿ç”¨ç›‘æ§
- âœ… è¿›åº¦è·Ÿè¸ªå’ŒæŠ¥å‘Š
- âœ… å†…å­˜ä½¿ç”¨ä¼°ç®—å’Œä¼˜åŒ–
- âœ… é”™è¯¯é‡è¯•å’Œæ¢å¤æœºåˆ¶

### é”™è¯¯å¤„ç†
- âœ… ç»“æ„åŒ–é”™è¯¯ç±»å‹ç³»ç»Ÿ
- âœ… è¯¦ç»†çš„é”™è¯¯è¯Šæ–­
- âœ… é”™è¯¯æ¢å¤ç­–ç•¥
- âœ… è‡ªåŠ¨æµ‹è¯•å’ŒéªŒè¯

### æ—¥å¿—ç³»ç»Ÿ
- âœ… å¤šçº§åˆ«æ—¥å¿—æ§åˆ¶
- âœ… æ–‡ä»¶å’Œæ§åˆ¶å°è¾“å‡º
- âœ… ç»“æ„åŒ–æ—¥å¿—è®°å½•
- âœ… æ—¥å¿—æ–‡ä»¶è½®æ¢
- âœ… æ¡ä»¶ç¼–è¯‘æ”¯æŒ

### å·¥å…·å‡½æ•°
- âœ… å†…å­˜ä¼°ç®—å·¥å…·
- âœ… è§†é¢‘æ–‡ä»¶å¤„ç†å·¥å…·
- âœ… æµ‹è¯•è§†é¢‘ç”Ÿæˆå’ŒåŠ è½½
- âœ… æ—¶é—´è§£æå’Œæ ¼å¼åŒ–
- âœ… ç‰¹å¾å­˜å‚¨å’ŒåŠ è½½
- âœ… å“ˆå¸Œè®¡ç®—å·¥å…·

## ç»„ä»¶äº¤äº’å›¾

```
+----------------+      +----------------+      +----------------+
| é…ç½®ç®¡ç†       | <--> | è§†é¢‘ç‰¹å¾æå–å™¨ | <--> | æ‰¹å¤„ç†ç®¡ç†     |
+----------------+      +----------------+      +----------------+
        ^                       ^                      ^
        |                       |                      |
        v                       v                      v
+----------------+      +----------------+      +----------------+
| ç‰¹å¾æå–å™¨     | <--> | ç¼“å­˜ç®¡ç†       | <--> | é”™è¯¯å¤„ç†       |
+----------------+      +----------------+      +----------------+
        ^                       ^                      ^
        |                       |                      |
        v                       v                      v
+----------------+      +----------------+      +----------------+
| æ—¥å¿—ç³»ç»Ÿ       | <--> | å·¥å…·å‡½æ•°       | <--> | åŸºå‡†æµ‹è¯•       |
+----------------+      +----------------+      +----------------+
```

## ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨

```rust
// åˆ›å»ºé»˜è®¤é…ç½®
let config = VideoFeatureConfig::default();

// åˆ›å»ºç‰¹å¾æå–å™¨
let mut extractor = VideoFeatureExtractor::new(config).unwrap();

// æå–è§†é¢‘ç‰¹å¾
let features = extractor.extract_features("path/to/video.mp4").unwrap();
println!("ç‰¹å¾ç»´åº¦: {}", features.features.len());
```

### æ‰¹é‡å¤„ç†

```rust
// å‡†å¤‡è§†é¢‘è·¯å¾„åˆ—è¡¨
let video_paths = util::load_sample_videos().unwrap();

// åˆ›å»ºæ‰¹å¤„ç†è®¡åˆ’
let plan = BatchProcessingPlan::new(
    video_paths, 
    5, // æ‰¹å¤§å°
    None // æ— ä¼˜å…ˆçº§
);

// åˆ›å»ºæ‰¹å¤„ç†å™¨é…ç½®
let config = BatchProcessorConfig::default();

// åˆ›å»ºæ‰¹å¤„ç†å™¨
let mut processor = BatchProcessor::new(plan, config);

// å¤„ç†æ‰€æœ‰è§†é¢‘
processor.process(
    |video_path| extractor.extract_features(video_path),
    Some(|path, progress| {
        println!("å¤„ç†è¿›åº¦: {}: {}%", path, progress.percentage);
        true // ç»§ç»­å¤„ç†
    })
).unwrap();

// è·å–æ‰€æœ‰ç»“æœ
let results = processor.get_all_results();
```

### è‡ªå®šä¹‰é…ç½®

```rust
// åˆ›å»ºé«˜æ€§èƒ½é…ç½®
let mut config = VideoFeatureConfig::high_performance();
config.feature_types = vec![VideoFeatureType::RGB];
config.use_cache = true;

// æ ¹æ®è§†é¢‘è‡ªåŠ¨ä¼˜åŒ–é…ç½®
let video_path = "path/to/video.mp4";
let optimal_config = VideoFeatureConfig::auto_config_for_video(video_path).unwrap();

// åˆ›å»ºç‰¹å¾æå–å™¨
let mut extractor = VideoFeatureExtractor::new(optimal_config).unwrap();
```

## æ‰¹å¤„ç†ç³»ç»Ÿ

æ‰¹å¤„ç†ç³»ç»Ÿæ˜¯è§†é¢‘ç‰¹å¾æå–å™¨çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œå¯ä»¥é«˜æ•ˆåœ°å¤„ç†å¤§é‡è§†é¢‘æ–‡ä»¶ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä½¿ç”¨æ‰¹å¤„ç†ç³»ç»Ÿçš„ç¤ºä¾‹ï¼š

### åŸºç¡€æ‰¹å¤„ç†

```rust
// åˆ›å»ºé…ç½®
let mut config = VideoFeatureConfig::default();
config.feature_types = vec![VideoFeatureType::RGB];
config.parallel_threads = 4;
config.batch_size = Some(10);
config.use_cache = true;

// åˆ›å»ºæå–å™¨
let mut extractor = VideoFeatureExtractor::new(config).unwrap();

// å‡†å¤‡è§†é¢‘è·¯å¾„
let video_paths = vec![
    "videos/video1.mp4".to_string(),
    "videos/video2.mp4".to_string(),
    "videos/video3.mp4".to_string(),
];

// æ‰§è¡Œæ‰¹å¤„ç†
let results = extractor.batch_process(video_paths).unwrap();

// æ‰“å°æ‘˜è¦
println!("æ‰¹å¤„ç†æ‘˜è¦:");
println!("æ€»è§†é¢‘æ•°: {}", results.total_videos);
println!("æˆåŠŸæ•°: {}", results.success_count);
println!("å¤±è´¥æ•°: {}", results.failure_count);
println!("æ€»è€—æ—¶: {:.2}ç§’", results.total_duration_seconds);
println!("æˆåŠŸç‡: {:.2}%", results.success_rate * 100.0);
```

### å¸¦è¿›åº¦å›è°ƒçš„æ‰¹å¤„ç†

```rust
// åˆ›å»ºè¿›åº¦å›è°ƒå‡½æ•°
let progress_callback = |overall_progress: f32, progress_map: HashMap<String, ProcessingProgress>| {
    println!("æ€»ä½“è¿›åº¦: {:.2}%", overall_progress);
    
    // æ‰“å°æ¯ä¸ªè§†é¢‘çš„è¿›åº¦
    for (path, progress) in progress_map {
        match progress.status {
            ExtractionStatus::Completed => println!("âœ… {}: å·²å®Œæˆ", path),
            ExtractionStatus::Processing => println!("â³ {}: {:.2}%", path, progress.percentage),
            ExtractionStatus::Failed => println!("âŒ {}: å¤±è´¥ - {}", path, progress.error_message.unwrap_or_default()),
            ExtractionStatus::Queued => println!("â±ï¸ {}: ç­‰å¾…ä¸­", path),
            ExtractionStatus::Canceled => println!("ğŸ›‘ {}: å·²å–æ¶ˆ", path),
        }
    }
    
    // è¿”å›trueè¡¨ç¤ºç»§ç»­å¤„ç†ï¼Œè¿”å›falseå°†å–æ¶ˆå¤„ç†
    true
};

// æ‰§è¡Œæ‰¹å¤„ç†
let results = extractor.batch_process_with_progress(video_paths, progress_callback).unwrap();
```

### ä½¿ç”¨æ‰¹å¤„ç†æ‰§è¡Œå™¨

```rust
// åˆ›å»ºæ‰¹å¤„ç†æ‰§è¡Œå™¨
let mut executor = extractor.create_batch_executor();

// æ‰§è¡Œæ‰¹å¤„ç†
let result = executor.execute(video_paths).unwrap();

// æš‚åœæ‰¹å¤„ç†
executor.pause().unwrap();

// æ¢å¤æ‰¹å¤„ç†
executor.resume().unwrap();

// è·å–èµ„æºä½¿ç”¨æƒ…å†µ
let metrics = executor.get_resource_metrics();
println!("CPUä½¿ç”¨ç‡: {}", metrics.get("cpu_usage").unwrap_or(&"N/A".to_string()));
println!("å†…å­˜ä½¿ç”¨: {}", metrics.get("memory_usage").unwrap_or(&"N/A".to_string()));
```

### ä¼˜åŒ–æ‰¹å¤„ç†è®¡åˆ’

```rust
// åˆ›å»ºæ‰¹å¤„ç†è®¡åˆ’
let mut plan = extractor.create_batch_plan(video_paths);

// ä¼˜åŒ–æ‰¹å¤„ç†è®¡åˆ’
extractor.optimize_batch_plan(&mut plan);

// æ‰§è¡Œä¼˜åŒ–åçš„æ‰¹å¤„ç†è®¡åˆ’
let executor = extractor.create_batch_executor();
let results = executor.execute_plan(plan).unwrap();
```

### æ‰¹é‡æå–å¹¶å¯¼å‡º

```rust
// æ‰§è¡Œæ‰¹å¤„ç†
let results = extractor.batch_process(video_paths).unwrap();

// å¯¼å‡ºå¤„ç†æˆåŠŸçš„ç»“æœ
let successful_results = results.get_successful_results();

// å¯¼å‡ºåˆ°JSONæ ¼å¼
let output_dir = Path::new("output");
let export_paths = extractor.export_features_batch(&successful_results, output_dir, ExportFormat::JSON).unwrap();
```

## æ€§èƒ½ç‰¹ç‚¹

- **é«˜æ•ˆå¹¶è¡Œå¤„ç†**ï¼šä½¿ç”¨Rayonå®ç°å¹¶è¡Œå¤„ç†å¤šä¸ªè§†é¢‘
- **å†…å­˜ä¼˜åŒ–**ï¼šè‡ªåŠ¨æ ¹æ®ç³»ç»Ÿå¯ç”¨å†…å­˜è°ƒæ•´æ‰¹å¤„ç†å¤§å°
- **æ™ºèƒ½ç¼“å­˜**ï¼šé¿å…é‡å¤å¤„ç†ç›¸åŒçš„è§†é¢‘
- **è‡ªé€‚åº”é…ç½®**ï¼šæ ¹æ®è§†é¢‘ç‰¹æ€§è‡ªåŠ¨è°ƒæ•´æœ€ä½³é…ç½®
- **èµ„æºç›‘æ§**ï¼šå®æ—¶ç›‘æ§CPUã€å†…å­˜å’Œç£ç›˜ä½¿ç”¨æƒ…å†µ

## æŠ€æœ¯ç‰¹ç‚¹

- **æ¨¡å—åŒ–è®¾è®¡**ï¼šå„ç»„ä»¶èŒè´£æ˜ç¡®ï¼Œæ˜“äºæ‰©å±•
- **ç±»å‹å®‰å…¨**ï¼šå®Œå–„çš„ç±»å‹ç³»ç»Ÿå’Œé”™è¯¯å¤„ç†
- **çµæ´»é…ç½®**ï¼šä¸°å¯Œçš„é…ç½®é€‰é¡¹å’Œé¢„è®¾
- **è‰¯å¥½æ–‡æ¡£**ï¼šè¯¦ç»†çš„æ³¨é‡Šå’Œä½¿ç”¨ç¤ºä¾‹
- **å…¨é¢æµ‹è¯•**ï¼šå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•è¦†ç›–

## åç»­å¼€å‘è®¡åˆ’

- æ·»åŠ æ›´å¤šç‰¹å¾æå–ç®—æ³•(å¦‚è¯­ä¹‰åˆ†å‰²ã€åœºæ™¯åˆ†ç±»)
- æ”¯æŒGPUåŠ é€Ÿç‰¹å¾æå–
- æ·»åŠ åˆ†å¸ƒå¼å¤„ç†æ”¯æŒ
- å¢å¼ºç‰¹å¾å¯è§†åŒ–å·¥å…·
- å¢åŠ ä¸æœºå™¨å­¦ä¹ æ¡†æ¶çš„é›†æˆ
- å¼€å‘åŸºäºäº‘çš„å¤„ç†èƒ½åŠ›

## åŠŸèƒ½æ€»ç»“

è§†é¢‘ç‰¹å¾æå–å™¨æ¨¡å—æä¾›äº†ä»¥ä¸‹ä¸»è¦åŠŸèƒ½ï¼š

### 1. ç‰¹å¾æå–èƒ½åŠ›
- âœ… æ”¯æŒRGBç‰¹å¾æå–
- âœ… æ”¯æŒå…‰æµç‰¹å¾æå–
- âœ… æ”¯æŒå¤šç§ç©ºé—´å’Œæ—¶é—´æ± åŒ–æ–¹æ³•
- âœ… åŸºäºé…ç½®çš„ç‰¹å¾æå–å‚æ•°è°ƒæ•´
- âœ… æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥æå–

### 2. æ‰¹å¤„ç†ç³»ç»Ÿ
- âœ… é«˜æ•ˆå¤„ç†å¤§é‡è§†é¢‘æ–‡ä»¶
- âœ… æ”¯æŒè¿›åº¦è·Ÿè¸ªå’Œå›è°ƒ
- âœ… æ”¯æŒæš‚åœã€æ¢å¤å’Œå–æ¶ˆæ“ä½œ
- âœ… æ™ºèƒ½æ‰¹å¤„ç†è®¡åˆ’ä¼˜åŒ–
- âœ… èµ„æºç›‘æ§å’Œå†…å­˜ä¼˜åŒ–

### 3. ç¼“å­˜ç³»ç»Ÿ
- âœ… é«˜æ•ˆç¼“å­˜æå–ç»“æœ
- âœ… æ”¯æŒLRUå’Œå…¶ä»–ç¼“å­˜æ·˜æ±°ç­–ç•¥
- âœ… è‡ªé€‚åº”ç¼“å­˜ç­–ç•¥é€‰æ‹©
- âœ… ç¼“å­˜é¢„çƒ­å’Œåºåˆ—åŒ–
- âœ… è¯¦ç»†çš„ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯

### 4. åŸºå‡†æµ‹è¯•ç³»ç»Ÿ
- âœ… æ€§èƒ½è¯„ä¼°å’Œæ¯”è¾ƒ
- âœ… å¤šç§é…ç½®çš„åŸºå‡†æµ‹è¯•
- âœ… å†å²è®°å½•å’Œè¶‹åŠ¿åˆ†æ
- âœ… è¯¦ç»†çš„æ€§èƒ½æŒ‡æ ‡æŠ¥å‘Š
- âœ… é…ç½®æ¨è

### 5. å¯¼å‡ºç³»ç»Ÿ
- âœ… æ”¯æŒå¤šç§å¯¼å‡ºæ ¼å¼(CSV, JSON, äºŒè¿›åˆ¶ç­‰)
- âœ… æ‰¹é‡å¯¼å‡ºåŠŸèƒ½
- âœ… å¯å®šåˆ¶çš„å¯¼å‡ºé€‰é¡¹
- âœ… å…ƒæ•°æ®å’Œç‰¹å¾åŒæ­¥å¯¼å‡º
- âœ… å‹ç¼©æ”¯æŒ

### 6. é”™è¯¯å¤„ç†
- âœ… å…¨é¢çš„é”™è¯¯ç±»å‹å®šä¹‰
- âœ… è¯¦ç»†çš„é”™è¯¯è¯Šæ–­
- âœ… è‡ªåŠ¨é‡è¯•æœºåˆ¶
- âœ… é”™è¯¯æ¢å¤ç­–ç•¥
- âœ… ç³»ç»Ÿä¿¡æ¯æ”¶é›†

### 7. é…ç½®ç³»ç»Ÿ
- âœ… çµæ´»çš„é…ç½®ç»“æ„
- âœ… é¢„è®¾æ¨¡å¼(é«˜æ€§èƒ½ã€é«˜è´¨é‡ç­‰)
- âœ… é…ç½®éªŒè¯å’Œåˆå¹¶
- âœ… åŸºäºè§†é¢‘å…ƒæ•°æ®çš„è‡ªåŠ¨é…ç½®ç”Ÿæˆ
- âœ… é…ç½®æŒä¹…åŒ–å’ŒåŠ è½½

### 8. è¾…åŠ©åŠŸèƒ½
- âœ… è§†é¢‘å…ƒæ•°æ®æå–
- âœ… è§†é¢‘å¸§æ¨¡æ‹Ÿ
- âœ… èµ„æºä½¿ç”¨ä¼°è®¡
- âœ… è¯¦ç»†çš„æ—¥å¿—è®°å½•
- âœ… ç³»ç»ŸçŠ¶æ€ç›‘æ§

æ¨¡å—è®¾è®¡éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š
- æ¨¡å—åŒ–ï¼šå„åŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼Œä¾¿äºæ‰©å±•
- ç±»å‹å®‰å…¨ï¼šå……åˆ†åˆ©ç”¨Rustçš„ç±»å‹ç³»ç»Ÿä¿è¯å®‰å…¨
- æ€§èƒ½ä¼˜å…ˆï¼šæ‰¹å¤„ç†å’Œç¼“å­˜ä¼˜åŒ–æé«˜å¤„ç†æ•ˆç‡
- çµæ´»é…ç½®ï¼šæä¾›å¤šç§é…ç½®é€‰é¡¹é€‚åº”ä¸åŒéœ€æ±‚
- é”™è¯¯å¤„ç†ï¼šå…¨é¢çš„é”™è¯¯ç±»å‹å’Œè¯Šæ–­ä¿¡æ¯
- èµ„æºç®¡ç†ï¼šæ™ºèƒ½ç®¡ç†å†…å­˜å’Œçº¿ç¨‹èµ„æº

---

æœ¬æ¨¡å—ç”±Vecmindå¼€å‘å›¢é˜Ÿå¼€å‘å’Œç»´æŠ¤ï¼Œæ˜¯å‘é‡æ•°æ®åº“å¤„ç†ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚ 

## å¯¼å‡ºç³»ç»Ÿ

è§†é¢‘ç‰¹å¾æå–å™¨æ”¯æŒå°†æå–çš„ç‰¹å¾å¯¼å‡ºä¸ºå¤šç§æ ¼å¼ï¼Œä¾¿äºä¸å…¶ä»–ç³»ç»Ÿé›†æˆæˆ–è¿›è¡Œåç»­åˆ†æã€‚æ”¯æŒçš„å¯¼å‡ºæ ¼å¼åŒ…æ‹¬CSVã€JSONã€äºŒè¿›åˆ¶ã€NumPyã€TensorFlowã€ONNXå’ŒHDF5ç­‰ã€‚

### æ”¯æŒçš„å¯¼å‡ºæ ¼å¼

- **CSV**ï¼šé€‚ç”¨äºä¸ç”µå­è¡¨æ ¼è½¯ä»¶æˆ–æ•°æ®åˆ†æå·¥å…·é›†æˆ
- **JSON**ï¼šé€‚ç”¨äºWebåº”ç”¨ç¨‹åºå’ŒAPIé›†æˆ
- **äºŒè¿›åˆ¶**ï¼šé«˜æ•ˆå­˜å‚¨å’ŒåŠ è½½çš„ä¸“ç”¨æ ¼å¼
- **NumPy**ï¼šä¸Pythonæ•°æ®ç§‘å­¦ç”Ÿæ€ç³»ç»Ÿé›†æˆ
- **TensorFlow**ï¼šç”¨äºæœºå™¨å­¦ä¹ æ¨¡å‹è®­ç»ƒå’Œæ¨ç†
- **ONNX**ï¼šé€‚ç”¨äºè·¨å¹³å°æ¨¡å‹äº¤æ¢
- **HDF5**ï¼šé€‚ç”¨äºå¤§è§„æ¨¡ç§‘å­¦æ•°æ®å­˜å‚¨

### åŸºæœ¬å¯¼å‡º

```rust
// æå–ç‰¹å¾
let result = extractor.extract_features("path/to/video.mp4").unwrap();

// å¯¼å‡ºä¸ºCSVæ ¼å¼
let csv_path = extractor.export_features(&result, "features.csv", ExportFormat::CSV).unwrap();

// å¯¼å‡ºä¸ºJSONæ ¼å¼
let json_path = extractor.export_features(&result, "features.json", ExportFormat::JSON).unwrap();

// å¯¼å‡ºä¸ºäºŒè¿›åˆ¶æ ¼å¼
let bin_path = extractor.export_features(&result, "features.bin", ExportFormat::Binary).unwrap();
```

### è‡ªå®šä¹‰å¯¼å‡ºé€‰é¡¹

```rust
// åˆ›å»ºå¯¼å‡ºé€‰é¡¹
let options = ExportOptions {
    format: ExportFormat::JSON,
    include_metadata: true,
    include_processing_info: true,
    compress: true,
    batch_size: None,
    custom_options: HashMap::new(),
};

// ä½¿ç”¨è‡ªå®šä¹‰é€‰é¡¹å¯¼å‡º
let path = extractor.export_features_with_options(&result, "features.json.gz", &options).unwrap();
```

### æ‰¹é‡å¯¼å‡º

```rust
// æ‰¹é‡æå–ç‰¹å¾
let batch_results = extractor.extract_features_batch(&video_paths).unwrap();
let successful_results: Vec<_> = batch_results.into_iter()
    .filter_map(|r| r.ok())
    .collect();

// æ‰¹é‡å¯¼å‡ºä¸ºCSVæ ¼å¼
let csv_paths = extractor.export_features_batch(&successful_results, "output_dir", ExportFormat::CSV).unwrap();

// æ‰¹é‡å¯¼å‡ºä¸ºNumPyæ ¼å¼
let numpy_paths = extractor.export_features_batch(&successful_results, "output_dir", ExportFormat::NumPy).unwrap();
```

### ç›´æ¥æå–å¹¶å¯¼å‡º

```rust
// å•ä¸ªè§†é¢‘æå–å¹¶å¯¼å‡º
let output_path = extractor.extract_and_export("path/to/video.mp4", "features.json", ExportFormat::JSON).unwrap();

// æ‰¹é‡æå–å¹¶å¯¼å‡º
let output_paths = extractor.extract_and_export_batch(&video_paths, "output_dir", ExportFormat::JSON).unwrap();
```

### TensorBoardå¯è§†åŒ–å¯¼å‡º

```rust
// æå–ç‰¹å¾
let results = extractor.extract_features_batch(&video_paths).unwrap();
let successful_results: Vec<_> = results.into_iter()
    .filter_map(|r| r.ok())
    .collect();

// å¯¼å‡ºåˆ°TensorBoard
let log_dir = extractor.export_to_tensorboard(&successful_results, "tensorboard_logs").unwrap();
println!("TensorBoardæ—¥å¿—å·²å¯¼å‡ºåˆ°: {}", log_dir.display());

// å¸¦æ ‡ç­¾å¯¼å‡ºåˆ°TensorBoard
let mut labels = HashMap::new();
for result in &successful_results {
    labels.insert(result.video_id.clone(), format!("Video {}", result.video_id));
}
let log_dir = extractor.export_to_tensorboard_with_labels(&successful_results, "tensorboard_logs", labels).unwrap();
```

### æ ¼å¼æ£€æŸ¥å’Œæ”¯æŒ

```rust
// è·å–æ‰€æœ‰æ”¯æŒçš„å¯¼å‡ºæ ¼å¼
let formats = extractor.get_available_export_formats();
println!("æ”¯æŒçš„å¯¼å‡ºæ ¼å¼:");
for format in formats {
    println!("- {:?}", format);
}

// æ£€æŸ¥ç‰¹å®šæ ¼å¼æ˜¯å¦æ”¯æŒ
if extractor.is_format_supported(ExportFormat::NumPy) {
    println!("NumPyæ ¼å¼æ”¯æŒ!");
} else {
    println!("NumPyæ ¼å¼ä¸æ”¯æŒï¼Œéœ€è¦åœ¨ç¼–è¯‘æ—¶å¯ç”¨'numpy'ç‰¹æ€§");
}

// åˆ›å»ºå¯¼å‡ºé€‰é¡¹
let options = extractor.create_export_options(
    ExportFormat::CSV,
    true,  // åŒ…å«å…ƒæ•°æ®
    false, // ä¸åŒ…å«å¤„ç†ä¿¡æ¯
    false  // ä¸å‹ç¼©
);
```

## æ€§èƒ½åŸºå‡†æµ‹è¯• 